//declartive pipeline
 pipeline {
     agent any
      stages {
          stage("clone git repo") {
              steps {
                  echo "clone git repo"
                  git branch: 'master'
            stage("build a code") {
                steps {
                        echo "build  a code"
                       sh "mvn clean package" 

                }
            }

            stage("upload artifacts") {
                steps {
                    echo "upload s3"
                    sh "aws s3 cp target/*.war s3://sree9030/$JOB_NAME/$BUILD_NUMBER/" 

                }

            }  

      }


 }